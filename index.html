<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bingo Draw 1-80</title>
  <link rel="stylesheet" href="./style.css"/>
</head>
<body>

  <div class="app">

    <div class="center">
      <h1>BINGO</h1>
      <div class="ball" id="display">--</div>

      <div class="controls">
        <button onclick="draw()">Quay số</button>
        <button onclick="resetGame()">Reset</button>
      </div>
    </div>

    <div class="board">
      <h2>SỐ ĐÃ QUAY</h2>
      <div class="numbers" id="numberBoard"></div>
    </div>

  </div>

  <script>
    const display = document.getElementById("display");
const numberBoard = document.getElementById("numberBoard");
let pool = [];
let rolling = false;
function init() {
  pool = Array.from({ length: 80 }, (_, i) => i + 1);
  shuffle(pool);
  display.textContent = "--";
  renderBoard();
}
function shuffle(arr) {
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
}
function renderBoard() {
  numberBoard.innerHTML = "";
  for (let i = 1; i <= 80; i++) {
    const div = document.createElement("div");
    div.className = "num";
    div.id = "num-" + i;
    div.textContent = i;
    numberBoard.appendChild(div);
  }
}
function draw() {
  if (pool.length === 0 || rolling) return;
  rolling = true;
  let interval = setInterval(() => {
    display.textContent = Math.floor(Math.random() * 80) + 1;
  }, 50);
  setTimeout(() => {
    clearInterval(interval);
    const result = pool.pop();
    display.textContent = result;
    document.getElementById("num-" + result).classList.add("called");
    rolling = false;
  }, 2200);
}
function resetGame() {
  init();
}
init();
  </script>
</body>
</html>
